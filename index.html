<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shirt Store</title>
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <header>
        <h1>Boyzy buy</h1>
    </header>

    <main>
        <div id="product-list"></div>
    </main>

    <div id="cart">
        <h2>üõí Add to cart</h2>
        <div id="cart-items"></div>
        <p id="total-price">Total: 0 VND</p>
        <button onclick="checkout()">‚úÖ Check Out</button>
    </div>

    <script>
        const products = [
            { id: 1, name: "Frame Button-Up Shirt (Black)", price: 500000, image: "https://i.pinimg.com/1200x/aa/90/cf/aa90cff663d02ecb264b6b4dca235c64.jpg" },
            { id: 2, name: "Knit Shirt ‚Äì Black", price: 800000, image: "https://i.pinimg.com/1200x/b1/b4/7f/b1b47f33ed75383583951f65afa9d151.jpg" },
            { id: 3, name: "Shirt Special", price: 300000, image: "https://i.pinimg.com/1200x/33/7f/75/337f758e64d55b910179c2044444d094.jpg" },
            { id: 4, name: "Knit Shirt ‚Äì Black", price: 600000, image: "https://i.pinimg.com/736x/8a/e3/cd/8ae3cd45e08a7233bd94d0e22782a80a.jpg" },
            { id: 5, name: "Knit Shirt ‚Äì White", price: 250000, image: "https://i.pinimg.com/736x/ab/7d/b6/ab7db62f3546c13462c4f56d60165b78.jpg" },
            { id: 6, name: "Hoodie ‚Äì Red", price: 150000, image: "https://i.pinimg.com/1200x/44/f4/9e/44f49ed95795f2147d107696d80c5981.jpg" },
            { id: 7, name: "TC1-TS2104", price: 200000, image: "https://i.pinimg.com/736x/2a/e9/f7/2ae9f7b30bc3f330cc4260c58eea50b0.jpg" },
            { id: 8, name: "knit Shirt - green", price: 700000, image: "https://i.pinimg.com/736x/1d/2f/e4/1d2fe4450bba74d9af6c2c709c9deb09.jpg" }
        ];

        let cart = [];

        function displayProducts() {
            const productContainer = document.getElementById("product-list");
            productContainer.innerHTML = "";
            products.forEach(product => {
                const productElement = document.createElement("div");
                productElement.classList.add("product");
                productElement.innerHTML = `
                    <img src="${product.image}" alt="${product.name}" />
                    <h2>${product.name}</h2>
                    <p>${product.price.toLocaleString()} VND</p>
                    <button onclick="addToCart(${product.id})">üõí Add to Cart</button>
                `;
                productContainer.appendChild(productElement);
            });
        }

        function addToCart(id) {
            const product = products.find(p => p.id === id);
            const item = cart.find(i => i.id === id);

            if (item) {
                item.quantity++;
            } else {
                cart.push({ ...product, quantity: 1 });
            }

            updateCart();
        }

        function updateCart() {
            const cartContainer = document.getElementById("cart-items");
            const totalPriceElement = document.getElementById("total-price");
            cartContainer.innerHTML = "";
            let total = 0;

            if (cart.length === 0) {
                cartContainer.innerHTML = "<p>Your cart is empty üõí</p>";
                totalPriceElement.innerText = "Total: 0 VND";
                localStorage.setItem("cart", JSON.stringify(cart));
                return;
            }

            cart.forEach(item => {
                total += item.price * item.quantity;
                const cartItem = document.createElement("div");
                cartItem.classList.add("cart-item");
                cartItem.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" />
                    <span>${item.name} (${item.quantity})</span>
                    <button onclick="changeQuantity(${item.id}, -1)">‚ûñ</button>
                    <button onclick="changeQuantity(${item.id}, 1)">‚ûï</button>
                    <button onclick="removeFromCart(${item.id})">‚ùå</button>
                `;
                cartContainer.appendChild(cartItem);
            });

            totalPriceElement.innerText = `Total: ${total.toLocaleString()} VND`;
            localStorage.setItem("cart", JSON.stringify(cart));

        }

        function changeQuantity(id, amount) {
            const item = cart.find(i => i.id === id);
            if (item) {
                item.quantity += amount;
                if (item.quantity <= 0) {
                    removeFromCart(id);
                }
            }
            updateCart();
        }

        function removeFromCart(id) {
            cart = cart.filter(i => i.id !== id);
            updateCart();
        }

        function checkout() {
            if (cart.length === 0) {
                alert("üõí Your cart is empty!");
            } else {
                alert("‚úÖ Checkout successful! Thank you for your purchase.");
                let cart = JSON.parse(localStorage.getItem("cart")) || [];
                updateCart();
            }
        }

        displayProducts();
        updateCart();

    </script>
</body>

</html>